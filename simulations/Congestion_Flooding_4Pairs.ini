[General]
# Network
network = LoRaMesh
LoRaMesh.mapPath = "map/blu"

# Eventlog and outputs
record-eventlog = true
**.vector-recording = true
**.scalar-recording = true
cmdenv-express-mode = true
cmdenv-autoflush = true

# Random seed
rng-class = "cMersenneTwister"
seed-set = ${repetition}

# Timing
simtime-resolution = -10
sim-time-limit = 1200s
warmup-period = 0s

# Node counts
**.numberOfNodes = 50
**.numberOfEndNodes = 8   # Four pairs: 1000->1001, 1002->1003, 1004->1005, 1006->1007

# Power consumption config (aligned with existing scenarios)
**.loRaNodes[*].LoRaNic.radio.energyConsumerType = "LoRaEnergyConsumer"
**.loRaNodes[*].**.energySourceModule = "IdealEpEnergyStorage"
**.loRaNodes[*].LoRaNic.radio.energyConsumer.configFile = xmldoc("energyConsumptionParameters.xml")
**.loRaEndNodes[*].LoRaNic.radio.energyConsumerType = "LoRaEnergyConsumer"
**.loRaEndNodes[*].**.energySourceModule = "IdealEpEnergyStorage"
**.loRaEndNodes[*].LoRaNic.radio.energyConsumer.configFile = xmldoc("energyConsumptionParameters.xml")

# Area and radio medium
**.constraintAreaMinX = 0m
**.constraintAreaMinY = 0m
**.constraintAreaMinZ = 0m
**.constraintAreaMaxX = 20000m
**.constraintAreaMaxY = 20000m
**.constraintAreaMaxZ = 0m
**.delayer.config = xmldoc("cloudDelays.xml")
**.radio.radioMediumModule = "LoRaMedium"
**.LoRaMedium.pathLossType = "LoRaLogNormalShadowing"
**.d0 = 190m
**.sigma = 3.5
**.gamma = 3.3
**.minInterferenceTime = 0s
**.numberOfGateways = 0

# Medium neighbor-cache
**.LoRaMedium.mediumLimitCacheType = "LoRaMediumCache"
**.LoRaMedium.rangeFilter = "communicationRange"
**.LoRaMedium.neighborCacheType = "LoRaNeighborCache"
**.LoRaMedium.neighborCache.range = 3000m
**.LoRaMedium.neighborCache.refillPeriod = 3000s

# LoRa radio defaults
**.loRaNodes[*].**.initFromDisplayString = false
**.loRaNodes[*].**initialLoRaSF = 7
**.loRaNodes[*].**minLoRaSF = 7
**.loRaNodes[*].**maxLoRaSF = 12
**.loRaNodes[*].**initialLoRaBW = 125 kHz
**.loRaNodes[*].**initialLoRaCR = 1
**.loRaNodes[*].**initialLoRaTP = 17dBm
**.loRaNodes[*].**initialLoRaCAD = true
**.loRaNodes[*].**initialLoRaCADatt = 0dB
**.loRaEndNodes[*].**.initFromDisplayString = false
**.loRaEndNodes[*].**initialLoRaSF = 7
**.loRaEndNodes[*].**minLoRaSF = 7
**.loRaEndNodes[*].**maxLoRaSF = 12
**.loRaEndNodes[*].**initialLoRaBW = 125 kHz
**.loRaEndNodes[*].**initialLoRaCR = 1
**.loRaEndNodes[*].**initialLoRaTP = 17dBm
**.loRaEndNodes[*].**initialLoRaCAD = true
**.loRaEndNodes[*].**initialLoRaCADatt = 0dB

# Duty cycle (set false to stress collision-based congestion; set true for regulatory behavior)
**.dutyCycle = 0.01
**.enforceDutyCycle = false

# =============================
# 50-Relay Grid (positions copied from routing demo)
# =============================
**.loRaNodes[*].deploymentType = "grid"
**.loRaNodes[*].minX = 1000m
**.loRaNodes[*].minY = 1000m
**.loRaNodes[*].sepX = 2500m
**.loRaNodes[*].sepY = 2500m

# Row 0 (7 nodes): 0-6
**.loRaNodes[0].initialX = 1000m
**.loRaNodes[0].initialY = 1000m
**.loRaNodes[1].initialX = 3500m
**.loRaNodes[1].initialY = 1000m
**.loRaNodes[2].initialX = 6000m
**.loRaNodes[2].initialY = 1000m
**.loRaNodes[3].initialX = 8500m
**.loRaNodes[3].initialY = 1000m
**.loRaNodes[4].initialX = 11000m
**.loRaNodes[4].initialY = 1000m
**.loRaNodes[5].initialX = 13500m
**.loRaNodes[5].initialY = 1000m
**.loRaNodes[6].initialX = 16000m
**.loRaNodes[6].initialY = 1000m
# Row 1 (7 nodes): 7-13
**.loRaNodes[7].initialX = 1000m
**.loRaNodes[7].initialY = 3500m
**.loRaNodes[8].initialX = 3500m
**.loRaNodes[8].initialY = 3500m
**.loRaNodes[9].initialX = 6000m
**.loRaNodes[9].initialY = 3500m
**.loRaNodes[10].initialX = 8500m
**.loRaNodes[10].initialY = 3500m
**.loRaNodes[11].initialX = 11000m
**.loRaNodes[11].initialY = 3500m
**.loRaNodes[12].initialX = 13500m
**.loRaNodes[12].initialY = 3500m
**.loRaNodes[13].initialX = 16000m
**.loRaNodes[13].initialY = 3500m
# Row 2 (7 nodes): 14-20
**.loRaNodes[14].initialX = 1000m
**.loRaNodes[14].initialY = 6000m
**.loRaNodes[15].initialX = 3500m
**.loRaNodes[15].initialY = 6000m
**.loRaNodes[16].initialX = 6000m
**.loRaNodes[16].initialY = 6000m
**.loRaNodes[17].initialX = 8500m
**.loRaNodes[17].initialY = 6000m
**.loRaNodes[18].initialX = 11000m
**.loRaNodes[18].initialY = 6000m
**.loRaNodes[19].initialX = 13500m
**.loRaNodes[19].initialY = 6000m
**.loRaNodes[20].initialX = 16000m
**.loRaNodes[20].initialY = 6000m
# Row 3 (7 nodes): 21-27
**.loRaNodes[21].initialX = 1000m
**.loRaNodes[21].initialY = 8500m
**.loRaNodes[22].initialX = 3500m
**.loRaNodes[22].initialY = 8500m
**.loRaNodes[23].initialX = 6000m
**.loRaNodes[23].initialY = 8500m
**.loRaNodes[24].initialX = 8500m
**.loRaNodes[24].initialY = 8500m
**.loRaNodes[25].initialX = 11000m
**.loRaNodes[25].initialY = 8500m
**.loRaNodes[26].initialX = 13500m
**.loRaNodes[26].initialY = 8500m
**.loRaNodes[27].initialX = 16000m
**.loRaNodes[27].initialY = 8500m
# Row 4 (7 nodes): 28-34
**.loRaNodes[28].initialX = 1000m
**.loRaNodes[28].initialY = 11000m
**.loRaNodes[29].initialX = 3500m
**.loRaNodes[29].initialY = 11000m
**.loRaNodes[30].initialX = 6000m
**.loRaNodes[30].initialY = 11000m
**.loRaNodes[31].initialX = 8500m
**.loRaNodes[31].initialY = 11000m
**.loRaNodes[32].initialX = 11000m
**.loRaNodes[32].initialY = 11000m
**.loRaNodes[33].initialX = 13500m
**.loRaNodes[33].initialY = 11000m
**.loRaNodes[34].initialX = 16000m
**.loRaNodes[34].initialY = 11000m
# Row 5 (7 nodes): 35-41
**.loRaNodes[35].initialX = 1000m
**.loRaNodes[35].initialY = 13500m
**.loRaNodes[36].initialX = 3500m
**.loRaNodes[36].initialY = 13500m
**.loRaNodes[37].initialX = 6000m
**.loRaNodes[37].initialY = 13500m
**.loRaNodes[38].initialX = 8500m
**.loRaNodes[38].initialY = 13500m
**.loRaNodes[39].initialX = 11000m
**.loRaNodes[39].initialY = 13500m
**.loRaNodes[40].initialX = 13500m
**.loRaNodes[40].initialY = 13500m
**.loRaNodes[41].initialX = 16000m
**.loRaNodes[41].initialY = 13500m
# Row 6 (7 nodes): 42-48
**.loRaNodes[42].initialX = 1000m
**.loRaNodes[42].initialY = 16000m
**.loRaNodes[43].initialX = 3500m
**.loRaNodes[43].initialY = 16000m
**.loRaNodes[44].initialX = 6000m
**.loRaNodes[44].initialY = 16000m
**.loRaNodes[45].initialX = 8500m
**.loRaNodes[45].initialY = 16000m
**.loRaNodes[46].initialX = 11000m
**.loRaNodes[46].initialY = 16000m
**.loRaNodes[47].initialX = 13500m
**.loRaNodes[47].initialY = 16000m
**.loRaNodes[48].initialX = 16000m
**.loRaNodes[48].initialY = 16000m
# Row 7 (1 node): 49
**.loRaNodes[49].initialX = 8500m
**.loRaNodes[49].initialY = 18500m

# =============================
# End-node placement (random each run via circle)
# =============================
**.loRaEndNodes[*].deploymentType = "circle"
**.loRaEndNodes[*].rad = 9000
**.loRaEndNodes[*].centX = 10000
**.loRaEndNodes[*].centY = 10000
**.loRaEndNodes[*].iAmEnd = true

# =============================
# Flooding behavior (stateless broadcast) using No_Duplicate guardrails
# =============================
**.routeDiscovery = false                  # No routing beacons
**.loRaNodes[*].LoRaNodeApp.routingMetric = 2   # Relays flood/broadcast
**.loRaEndNodes[*].LoRaNodeApp.routingMetric = 1

# =============================
# Traffic generation
# =============================
# Relays never generate own data (explicit guardrails)
**.sendPacketsContinuously = false
**.loRaNodes[*].LoRaNodeApp.sendPacketsContinuously = false
**.loRaNodes[*].LoRaNodeApp.numberOfPacketsPerDestination = 0
**.loRaNodes[*].LoRaNodeApp.timeToFirstDataPacket = 1000000s

# Common packet settings
**.dataPacketDefaultSize = 11B
**.packetTTL = 20
**.timeToNextDataPacketDist = "uniform"
**.timeToNextDataPacketMin = 0s
**.timeToNextDataPacketMax = 15s
**.timeToNextDataPacketAvg = 12s

# Synchronized start for all senders (aligned with method)
**.loRaEndNodes[*].LoRaNodeApp.timeToFirstDataPacket = 120s

# Pair 0: 1000 -> 1001 (end node indices 0 -> 1)
**.loRaEndNodes[0].LoRaNodeApp.sendPacketsContinuously = true
**.loRaEndNodes[0].LoRaNodeApp.forceSingleDestination = true
**.loRaEndNodes[0].LoRaNodeApp.forcedDestinationId = 1001
**.loRaEndNodes[0].LoRaNodeApp.numberOfDestinationsPerNode = 1
**.loRaEndNodes[0].LoRaNodeApp.numberOfPacketsPerDestination = 1
**.loRaEndNodes[1].LoRaNodeApp.sendPacketsContinuously = false
**.loRaEndNodes[1].LoRaNodeApp.timeToFirstDataPacket = 1e6s

# Pair 1: 1002 -> 1003 (end node indices 2 -> 3)
**.loRaEndNodes[2].LoRaNodeApp.sendPacketsContinuously = true
**.loRaEndNodes[2].LoRaNodeApp.forceSingleDestination = true
**.loRaEndNodes[2].LoRaNodeApp.forcedDestinationId = 1003
**.loRaEndNodes[2].LoRaNodeApp.numberOfDestinationsPerNode = 1
**.loRaEndNodes[2].LoRaNodeApp.numberOfPacketsPerDestination = 1
**.loRaEndNodes[3].LoRaNodeApp.sendPacketsContinuously = false
**.loRaEndNodes[3].LoRaNodeApp.timeToFirstDataPacket = 1e6s

# Pair 2: 1004 -> 1005 (end node indices 4 -> 5)
**.loRaEndNodes[4].LoRaNodeApp.sendPacketsContinuously = true
**.loRaEndNodes[4].LoRaNodeApp.forceSingleDestination = true
**.loRaEndNodes[4].LoRaNodeApp.forcedDestinationId = 1005
**.loRaEndNodes[4].LoRaNodeApp.numberOfDestinationsPerNode = 1
**.loRaEndNodes[4].LoRaNodeApp.numberOfPacketsPerDestination = 1
**.loRaEndNodes[5].LoRaNodeApp.sendPacketsContinuously = false
**.loRaEndNodes[5].LoRaNodeApp.timeToFirstDataPacket = 1e6s

# Pair 3: 1006 -> 1007 (end node indices 6 -> 7)
**.loRaEndNodes[6].LoRaNodeApp.sendPacketsContinuously = true
**.loRaEndNodes[6].LoRaNodeApp.forceSingleDestination = true
**.loRaEndNodes[6].LoRaNodeApp.forcedDestinationId = 1007
**.loRaEndNodes[6].LoRaNodeApp.numberOfDestinationsPerNode = 1
**.loRaEndNodes[6].LoRaNodeApp.numberOfPacketsPerDestination = 1
**.loRaEndNodes[7].LoRaNodeApp.sendPacketsContinuously = false
**.loRaEndNodes[7].LoRaNodeApp.timeToFirstDataPacket = 1e6s
