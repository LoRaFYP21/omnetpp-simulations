[General]
network = LoRaMeshWithHardware
sim-time-limit = 3600s

# Network configuration
*.numberOfNodes = 5
*.numberOfEndNodes = 0
*.numberOfGateways = 1

# Add hardware node
*.numberOfHardwareNodes = 1

# Hardware Node Configuration
*.hardwareNode[*].typename = "LoRaHardwareNode"
*.hardwareNode[*].serialPort = "COM9"  # Change this to your actual COM port
*.hardwareNode[*].baudRate = 115200

# Hardware node position
*.hardwareNode[*].mobility.initialX = 250m
*.hardwareNode[*].mobility.initialY = 250m
*.hardwareNode[*].mobility.initialZ = 0m

# Hardware node LoRa parameters
*.hardwareNode[*].LoRaHardwareApp.initialLoRaTP = 14dBm
*.hardwareNode[*].LoRaHardwareApp.initialLoRaCF = 923MHz
*.hardwareNode[*].LoRaHardwareApp.initialLoRaSF = 12
*.hardwareNode[*].LoRaHardwareApp.pollInterval = 0.01s  # 10ms polling

# Hardware node NIC configuration
*.hardwareNode[*].LoRaNic.radio.separateTransmissionParts = false
*.hardwareNode[*].LoRaNic.radio.separateReceptionParts = false

# Regular simulated nodes configuration
*.N[*].**.initialLoRaTP = 14dBm
*.N[*].**.initialLoRaCF = 923MHz
*.N[*].**.initialLoRaSF = 12
*.N[*].**.minLoRaSF = 7
*.N[*].**.maxLoRaSF = 12

*.N[*].LoRaNodeApp.numberOfNodes = 5
*.N[*].LoRaNodeApp.numberOfEndNodes = 0

# Application configuration
*.N[*].LoRaNodeApp.sendPacketsContinuously = false
*.N[*].LoRaNodeApp.numberOfPacketsPerDestination = 10
*.N[*].LoRaNodeApp.numberOfDestinationsPerNode = 1

*.N[*].LoRaNodeApp.timeToFirstDataPacket = uniform(10s, 20s)
*.N[*].LoRaNodeApp.timeToNextDataPacketDist = "uniform"
*.N[*].LoRaNodeApp.timeToNextDataPacketMin = 30s
*.N[*].LoRaNodeApp.timeToNextDataPacketMax = 60s

# Routing configuration
*.N[*].LoRaNodeApp.routingMetric = 6  # ETX_SINGLE_SF
*.N[*].LoRaNodeApp.routeDiscovery = true
*.N[*].LoRaNodeApp.windowSize = 10
*.N[*].LoRaNodeApp.routeTimeout = 600s

# Gateway configuration
*.loRaGW[*].**.initialLoRaTP = 14dBm
*.loRaGW[*].**.initialLoRaCF = 923MHz
*.loRaGW[*].**.initialLoRaSF = 12

# LoRa Medium configuration
*.LoRaMedium.mediumLimitCache.centerFrequency = 923MHz
*.LoRaMedium.pathLoss.typename = "LoRaLogNormalShadowing"
*.LoRaMedium.pathLoss.sigma = 3.57
*.LoRaMedium.pathLoss.d0 = 1m
*.LoRaMedium.pathLoss.gamma = 2.32

# Network layout
*.N[*].mobility.initialX = uniform(0m, 500m)
*.N[*].mobility.initialY = uniform(0m, 500m)
*.N[*].mobility.initialZ = 0m

*.loRaGW[*].mobility.initialX = 250m
*.loRaGW[*].mobility.initialY = 250m
*.loRaGW[*].mobility.initialZ = 0m
