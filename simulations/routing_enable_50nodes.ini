[General]
# network
    network = LoRaMesh
    LoRaMesh.mapPath = "map/wellington"
    LoRaMesh.mapWidth = 20000
    LoRaMesh.mapHeight = 20000

# logging
    record-eventlog = true
    cmdenv-status-frequency = 10s
    cmdenv-output-file = routing_demo_log_50.txt
    cmdenv-autoflush = true
    cmdenv-express-mode = false
    **.vector-recording = true
    **.scalar-recording = true

# RNG
    rng-class = "cMersenneTwister"
    seed-set = ${repetition}

# timing
    simtime-resolution = -10
    sim-time-limit = 300s
    warmup-period = 0s
    **.loRaNodes[*].**.stopRoutingAfterDataDone = 500s

# topology size
    **.constraintAreaMinX = 0m
    **.constraintAreaMinY = 0m
    **.constraintAreaMinZ = 0m
    **.constraintAreaMaxX = 20000m
    **.constraintAreaMaxY = 20000m
    **.constraintAreaMaxZ = 0m

# nodes
    **.numberOfNodes = 50         # 50 relay nodes
    **.numberOfEndNodes = 0       # no end devices in this scenario
    **.numberOfGateways = 0

# medium and channel
    **.radio.radioMediumModule = "LoRaMedium"
    **.LoRaMedium.pathLossType = "LoRaLogNormalShadowing"
    **.LoRaMedium.mediumLimitCacheType = "LoRaMediumCache"
    **.LoRaMedium.rangeFilter = "communicationRange"
    **.LoRaMedium.neighborCacheType = "LoRaNeighborCache"
    **.LoRaMedium.neighborCache.range = 2500m
    **.LoRaMedium.neighborCache.refillPeriod = 3000s
    **.delayer.config = xmldoc("cloudDelays.xml")

    **.d0 = 190m
    **.sigma = 3.5
    **.gamma = 3.3

# power
    **.loRaNodes[*].LoRaNic.radio.energyConsumerType = "LoRaEnergyConsumer"
    **.loRaNodes[*].**.energySourceModule = "IdealEpEnergyStorage"
    **.loRaNodes[*].LoRaNic.radio.energyConsumer.configFile = xmldoc("energyConsumptionParameters.xml")

# LoRa PHY/MAC defaults
    **.loRaNodes[*].**.initFromDisplayString = false
    **.loRaNodes[*].**initialLoRaSF = 7
    **.loRaNodes[*].**minLoRaSF = 7
    **.loRaNodes[*].**maxLoRaSF = 12
    **.loRaNodes[*].**initialLoRaBW = 125 kHz
    **.loRaNodes[*].**initialLoRaCR = 1
    **.loRaNodes[*].**initialLoRaTP = 17dBm
    **.loRaNodes[*].**initialLoRaCAD = true
    **.loRaNodes[*].**initialLoRaCADatt = 0dB

# node placement (grid-like inside the area)
    **.loRaNodes[*].deploymentType = "grid"
    **.loRaNodes[*].minX = 0m
    **.loRaNodes[*].minY = 0m
    **.loRaNodes[*].sepX = 1500m
    **.loRaNodes[*].sepY = 1500m

# traffic
    **.sendPacketsContinuously = false
    **.numberOfDestinationsPerNode = 1
    **.dataPacketDefaultSize = 11B
    **.packetTTL = 100
    **.timeToNextDataPacketDist = "uniform"
    **.timeToNextDataPacketMin = 0s
    **.timeToNextDataPacketMax = 10s
    **.timeToNextDataPacketAvg = 5s
    **.ownDataPriority = 0

# routing metric & aodv-only setup (mirror of routing_enable.ini General)
    **.loRaNodes[*].LoRaNodeApp.routingMetric = 3   # hop count
    **.routeDiscovery = false
    **.routeTimeout = 600s
    **.storeBestRouteOnly = true
    **.getRoutesFromDataPackets = false
    **.routingPacketPriority = 0.5
    **.routingPacketMaxSize = 12B
    **.timeToFirstRoutingPacket = 5s+uniform(0s,5s)
    **.timeToNextRoutingPacketDist = "uniform"
    **.timeToNextRoutingPacketMin = 0s
    **.timeToNextRoutingPacketMax = 10s
    **.timeToNextRoutingPacketAvg = 5s
    **.loRaNodes[*].LoRaNodeApp.aodvOnly = true

# demo communication: only node 0 sends to a fixed destination (last node)
    **.loRaNodes[*].LoRaNodeApp.onlyNode0SendsPackets = true
    **.loRaNodes[0].LoRaNodeApp.forceSingleDestination = true
    **.loRaNodes[0].LoRaNodeApp.forcedDestinationId = 40
    **.loRaNodes[0].LoRaNodeApp.timeToFirstDataPacket = 20s

# duty cycle
    **.dutyCycle = 0.01
    **.enforceDutyCycle = ${enforceDutyCycle = true, false}
